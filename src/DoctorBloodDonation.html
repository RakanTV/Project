<!DOCTYPE html>
<html>
<head> 
	<link rel="stylesheet" type="text/css" href="./css/Project.css">
</head>
<body>
<header id="header1">
<!--white header -->	
<div id="header2">
<!--header logo -->	
<div id="headerlogo"><a href="index.html"><img id="car" src="./images/h.png"></a>
</div>
<!--header text -->	
<div id="headertext">
<p id="HealthCare"> Health Care</p>
</div>
<!--header logos -->	
<div id="headerlogos">
<a href="https://www.instagram.com/"><img id="instagram" src="./images/instagram.png"></a>
<a href="https://twitter.com/"><img id="twitter" src="./images/twitter.png"></a>
</div>	
<!--black header -->
<div id="BlackHeader"></div>
</header>

<div id="body">
<!--First Body -->

<div id="loginDiv"><table >
          <tr> 
         <th>
            <p>Address:</p>
                    </th>
                         <th>                  
                           <select>
                    <option value="add1">0xfD112547649fC7e72E0E56B939210F15b6b90d99</option>
                    <option value="add2">0x73EBa14CB7b1c4444efb4E552319940C0C13abb0</option>
                    <option value="add3">0xe5D8dB4E344117A09a2cdAE652ff8AA61732c363</option>
                    <option value="add4">0x57fcf27001B052D3543ca26E5cc0C73d83EBebCE</option>
                    <option value="add5">0xDa628DeAa22ba5959fa2D986854fF839088Df2fD</option>
                  </select>
                  </th>
                </tr>
                <tr>
                <th>
                  Name:
                </th>    
                    <th><input type="text" name="name" id="nametxt"></th>
                </tr>
  
                </tr>
                <tr>
                    <th> Age:</th>
                    <th><input type="text" name="age" id="age"></th>              
                    </tr>
                    <tr>
                        <th> Gender:</th>
                        <th><input type="text" name="gender" id="gender"></th>              
                        </tr>
                        <tr>
                            <th> Blood Type:</th>
                            <th><input type="text" name="bloodtype" id="bloodtype"></th>              
                            </tr>
                            <tr>
                                <th> Date:</th>
                                <th><input type="text" name="date" id="date"></th>              
                                </tr>       
                <tr>
                        <th></th>
                        <th><button id="mybutton"> Save</button></th>

                </tr>
              </table>
                </div>

</div>
<footer>
<img id="valley" src="./images/valley.png">	
<img id="vision" src="./images/vision.png">	
</footer>
<script>

App = {
    web3Provider: null,
    contracts: {},
  
    init: function() {
      return App.initWeb3();
    },

    initWeb3: async function () {
      // Modern dapp browsers...
      if (window.ethereum) {
        App.web3Provider = window.ethereum;
        try {
          // Request account access
          await window.ethereum.enable();
        } catch (error) {
          // User denied account access...
          console.error("User denied account access")
        }
      }
      // Legacy dapp browsers...
      else if (window.web3) {
        App.web3Provider = window.web3.currentProvider;
      }
      // If no injected web3 instance is detected, fall back to Ganache
      else {
        App.web3Provider = new Web3.providers.HttpProvider('http://localhost:8545');
      }
      web3 = new Web3(App.web3Provider);
  
      return App.initContract();
    },
  
  
    initContract: function() {
        //THIS IS THE API IF YOU ARE USING REMIX 
      $.getJSON('Idea.json', function(data) {
        // Get the necessary contract artifact file and instantiate it with truffle-contract.
        var Idea = data;
        App.contracts.Idea = TruffleContract(Idea);
  
        // Set the provider for our contract.
        App.contracts.Idea.setProvider(App.web3Provider);
        console.log(App.web3Provider);
        web3.eth.getAccounts(function(error, accounts) {
          if (error) {
            console.log("Error:"+ error);
          }
    
          var account = accounts[0];
          console.log(accounts)
          console.log(account)
  
  
        // Use our contract to retieve idea HERE
        return App.getIdea();
      });
      
      }
    
      )}}

</script>
</body>
</html>
